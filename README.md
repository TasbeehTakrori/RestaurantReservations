# Restaurant Reservation System


This project is a .NET Core solution for managing restaurant reservations. It includes a database schema, data models, migrations, and various functionalities related to reservations, orders, and employees. Built using ASP.NET Web API, Clean Architecture, and MSSQL, it aims to provide a seamless experience for both restaurant owners and customers by facilitating the reservation process.


## Getting Started

### Prerequisites
- .NET Core 5.0 or later
- SQL Server Management Studio (SSMS)

### Setup

#### Database Setup
- Ensure you have a SQL Server instance available.
- Create a new database named RestaurantReservationCore using SQL Server Management Studio.

#### Projects Setup
- Clone this repository to your local machine.
- Open the solution in Visual Studio.

#### Database Migration
- Open the Package Manager Console in Visual Studio.
- Run the following command to apply migrations and seed the database:
  ``Update-Database``

#### Run the Web API
- Set the RestaurantReservation.API project as the startup project.
- Run the application to start the Web API.

## Database Schema
![Capture](https://github.com/TasbehTakrore/RestaurantReservations/assets/71009816/4eb2f8e4-eb53-4542-8513-abcd2e6a506c)


## Project Structure
This project adheres to the Clean Architecture principles, ensuring modularity, maintainability, and testability of the codebase.

- **RestaurantReservation.API**: ASP.NET Core Web API project serving as the presentation layer.
- **RestaurantReservation.Application**: Application layer containing business logic and use cases.
- **RestaurantReservation.Domain**: Domain layer containing domain entities and business rules.
- **Infrastructure**: Infrastructure layer containing implementations for data access, external services, and cross-cutting concerns.
  - **Persistence**: Submodule for database-related implementations, including the database context, data models, migrations, and repositories.
![image](https://github.com/TasbeehTakrori/RestaurantReservations/assets/71009816/18ae1733-184a-41f0-a59c-257f12eb2dc0)


## Advanced Features

1. **Asynchronous Programming with LINQ**
   - Utilized asynchronous methods in LINQ queries to enhance database interaction performance.

2. **Git Best Practices**
   - Followed Git best practices for version control.
   - Commits were made at the end of each project phase with meaningful messages describing implemented changes.

3. **Database Views**
   - Leveraged Entity Framework Core to create views for complex queries.
   - Implemented a view listing all reservations with associated customer and restaurant information.

4. **Database Functions**
   - Created a database function to calculate the total revenue generated by a specific restaurant.
   - Integrated the function call within the application.

5. **Stored Procedures**
   - Designed a stored procedure to find customers who made reservations with a party size greater than a certain value.
   - Implemented a method in the RestaurantReservation.Db project to execute the stored procedure.

6. **Repository Pattern**
   - Implemented a repository class for each entity (Employees, Customers, Restaurants, Reservations, Orders, MenuItems).
   - Organized repositories in a 'Repositories' folder within the RestaurantReservation.Db project.

7. **Dependency Injection**
   - Utilized dependency injection to maintain loose coupling and facilitate unit testing.

8. **Clean Architecture**
   - Followed Clean Architecture principles to ensure separation of concerns and maintainability of the codebase.

9. **Authorization**
   - Implemented JWT-based authorization to secure API endpoints.

10. **Validation and Error Handling**
    - Implemented input validation and user-friendly error messages for better user experience.

11. **API Documentation with Swagger**
    - Integrated Swagger for auto-generating comprehensive API documentation.

12. **Testing**
    - Manually tested all endpoints using Postman and Swagger UI to ensure functionality.

13. **Postman Test Suite (Bonus)**
    - Created a comprehensive Postman test suite covering all API endpoints.
    - Included tests for successful operations and error handling.


## API Endpoints

### Employees

| Endpoint                     | Method | Description                  |
|------------------------------|--------|------------------------------|
| `/api/employees`             | GET    | Get all employees.           |
| `/api/employees/{id}`        | GET    | Get an employee by ID.      |
| `/api/employees`             | POST   | Create a new employee.      |
| `/api/employees/{id}`        | PUT    | Update an existing employee. |
| `/api/employees/{id}`        | DELETE | Delete an employee.         |

### Customers

| Endpoint                     | Method | Description                  |
|------------------------------|--------|------------------------------|
| `/api/customers`             | GET    | Get all customers.           |
| `/api/customers/{id}`        | GET    | Get a customer by ID.       |
| `/api/customers`             | POST   | Create a new customer.      |
| `/api/customers/{id}`        | PUT    | Update an existing customer. |
| `/api/customers/{id}`        | DELETE | Delete a customer.          |

### Restaurants

| Endpoint                     | Method | Description                  |
|------------------------------|--------|------------------------------|
| `/api/restaurants`           | GET    | Get all restaurants.        |
| `/api/restaurants/{id}`      | GET    | Get a restaurant by ID.     |
| `/api/restaurants`           | POST   | Create a new restaurant.    |
| `/api/restaurants/{id}`      | PUT    | Update an existing restaurant. |
| `/api/restaurants/{id}`      | DELETE | Delete a restaurant.        |


### Additional Endpoints

| Category          | Endpoint                                       | Method | Description                                                    |
|-------------------|------------------------------------------------|--------|----------------------------------------------------------------|
| Employees         | `/api/employees?role=manager`                     | GET    | List all managers.                                             |
| Reservations      | `/api/reservations/customer/{customerId}`     | GET    | Retrieve reservations by customer ID.                         |
| Reservations      | `/api/reservations/{reservationId}/orders`     | GET    | List orders and menu items for a reservation.                 |
| Reservations      | `/api/reservations/{reservationId}/menu-items` | GET    | List ordered menu items for a reservation.                    |
| Additional Methods| `/api/employees/{employeeId}/average-order-amount`| GET  | Calculate average order amount for an employee.               |

#### - [Postman Documentation](https://documenter.getpostman.com/view/23702515/2sA2r3amiF)


## Acknowledgments

- This project follows best practices for .NET Core development.
- Feel free to contribute or open issues for improvements.

